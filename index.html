<!doctype html>
<html lang="ru" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Меню Доставки</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style type="text/tailwindcss">
        @layer components {
            .menu-category-title {
                @apply text-4xl
                text-black
                tracking-tighter text-center border-b-[1.5px] mt-10 mb-5 pb-3;
            }
            .navelement {
                @apply tracking-tighter text-xl text-gray-700 hover:text-[#597e52] font-medium p-2 rounded-md transition duration-150 ease-in-out border-x border-dashed;
            }
            .menu-category-card {
                @apply border border-gray-300 p-6 rounded-lg
            }
            .menu-category-card-image{
                @apply rounded-md w-full object-cover block h-40 bg-gray-100
            }
            .menu-category-card-text{
                @apply text-2xl font-medium mb-2 tracking-tighter
            }
            .menu-category-card-text-desc{
                @apply text-gray-700 mb-3 text-sm
            }
            .menu-category-card-parent{
                @apply flex justify-between
            }
            .menu-category-card-parent-price{
                @apply text-lg tracking-tighter text-2xl
            }
            .menu-category-card-parent-button{
                @apply border rounded-md p-[2px] w-10 bg-[#597e52] text-white transition-transform duration-300 hover:scale-95
            }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Arial', 'sans-serif'],
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-white text-black font-sans">

<div class="container mx-auto p-10 max-w-7xl">
    <h1 class="text-5xl font-bold text-center mb-12 tracking-tighter">Меню</h1>

    <div class="sticky top-0 z-10 bg-white shadow-md border-t">
        <div class="container mx-auto max-w-7xl px-2"> 
            <nav class="flex w-full justify-start md:justify-center overflow-x-auto overflow-y-none space-x-7 py-2">
                <a href="#cat1" class="navelement">Пицца</a>
                <a href="#cat2" class="navelement">Паста</a>
                <a href="#cat3" class="navelement">Напитки</a>
                <!-- Исправил опечатку в навигации, предполагая, что это была ошибка -->
                <a href="#cat4" class="navelement">Другие</a>
            </nav>
        </div>
    </div>
    
    <section class="mb-12">
        <h2 id="cat1" class="menu-category-title">Пицца</h2>
        <div id="pizza-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Карточки будут загружены динамически -->
        </div>
    </section>

    <section class="mb-12">
        <h2 id="cat2" class="menu-category-title">Паста</h2>
        <div id="pasta-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Карточки будут загружены динамически -->
        </div>
    </section>

    <section class="mb-12">
        <h2 id="cat3" class="menu-category-title">Напитки</h2>
        <div id="drinks-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Карточки будут загружены динамически -->
        </div>
    </section>

    <!-- Добавьте дополнительные секции, если нужно -->

</div>

<script>
    // Функция для создания карточки на основе данных
    function createMenuCard(item) {
        const card = document.createElement('div');
        card.className = 'menu-category-card';

        const img = document.createElement('img');
        img.alt = item.name || '';
        img.src = item.image || 'src/images/placeholder.jpg'; // Замените на плейсхолдер, если нужно
        img.className = 'menu-category-card-image';
        card.appendChild(img);

        const title = document.createElement('h3');
        title.className = 'menu-category-card-text';
        title.textContent = item.name;
        card.appendChild(title);

        const desc = document.createElement('p');
        desc.className = 'menu-category-card-text-desc';
        desc.textContent = item.description;
        card.appendChild(desc);

        const parent = document.createElement('div');
        parent.className = 'menu-category-card-parent';

        const price = document.createElement('p');
        price.className = 'menu-category-card-parent-price';
        price.textContent = `${item.price} ₽`;
        parent.appendChild(price);

        const button = document.createElement('button');
        button.className = 'menu-category-card-parent-button';
        button.textContent = '+';
        parent.appendChild(button);

        card.appendChild(parent);

        return card;
    }

    // Функция для загрузки данных из локального JSON файла
    async function loadMenu() {
        try {
            const response = await fetch('menu.json'); // Загружаем из локального файла menu.json
            if (!response.ok) throw new Error('Ошибка загрузки меню');
            const data = await response.json();

            // Предполагаем структуру данных из JSON: { categories: { pizza: [...], pasta: [...], drinks: [...] } }
            const { categories } = data;

            // Загружаем пиццу
            const pizzaGrid = document.getElementById('pizza-grid');
            categories.pizza.forEach(item => pizzaGrid.appendChild(createMenuCard(item)));

            // Загружаем пасту
            const pastaGrid = document.getElementById('pasta-grid');
            categories.pasta.forEach(item => pastaGrid.appendChild(createMenuCard(item)));

            // Загружаем напитки
            const drinksGrid = document.getElementById('drinks-grid');
            categories.drinks.forEach(item => drinksGrid.appendChild(createMenuCard(item)));

            // Добавьте обработку других категорий аналогично

        } catch (error) {
            console.error('Ошибка:', error);
            // Можно добавить fallback или сообщение об ошибке
        }
    }

    // Загружаем меню при загрузке страницы
    window.addEventListener('DOMContentLoaded', loadMenu);
</script>

</body>
</html>